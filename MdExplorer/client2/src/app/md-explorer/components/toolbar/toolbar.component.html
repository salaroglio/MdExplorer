<mat-toolbar color="primary">
  <mat-toolbar-row>
    <button mat-icon-button matTooltip="hide/show menu" (click)="toggleSidenav()">
      <mat-icon>vertical_split</mat-icon>
    </button>
    <button mat-icon-button matTooltip="edit document" (click)="OpenEditor()">
      <mat-icon>edit</mat-icon>
    </button>
    <button mat-icon-button matTooltip="export in word" (click)="Export()">
      <mat-icon>directions</mat-icon>
    </button>
    <button mat-icon-button matTooltip="full screen" (click)="FullScreenToggle()">
      <mat-icon>{{screenType}}</mat-icon>
    </button>
    <button mat-icon-button matTooltip="Bookmarks" (click)="bookmarkToggle()">
      <mat-icon>bookmark</mat-icon>
    </button>
    <span>{{currentMdFile?.name}}</span>


    <span class="flexExpand"></span>
    <button *ngIf="!connectionIsActive" mat-icon-button matTooltip="missing connection to remote" (click)="checkConnection()">
      <mat-icon style="color:yellow">warning</mat-icon>
    </button>
    <span *ngIf="isCheckingConnection"><img src="/assets/connecting.gif" /></span>

    <span style="display:flex; flex-direction:row" *ngIf="currentBranch!=null">
      <div style="display:flex; flex-direction:column">
        <button class="smallMessagesToCommit" (click)="commit()" *ngIf="somethingIsChangedInTheBranch">{{howManyFilesAreToCommit}} to commit</button>
        <div class="menu-container">
          <button class="smallMessagesToPull" (click)="pull()"
                  (mouseover)="showMenu=true" (mouseleave)="showMenu=false"
                  *ngIf="somethingIsToPull">
            {{howManyFilesAreToPull}} to pull
          </button>
          <div class="menu" *ngIf="showMenu" (mouseleave)="showMenu=false">            
              <table>
                <tr *ngFor="let fileAndAuthor of filesAndAuthors"><td>{{fileAndAuthor.author}}</td><td>{{fileAndAuthor.fileName}}</td></tr>
              </table>                          
          </div>
        </div>
        <button class="smallMessagesToPush" (click)="push()" *ngIf="somethingIsToPush">{{howManyCommitAreToPush}} to push</button>
      </div>
      <button mat-button [matMenuTriggerFor]="tagsAndBranches"
              [ngClass]="!somethingIsChangedInTheBranch? 'branchGood':'branchToCommit'">
        [{{currentBranch}}] <img src="/assets/gitlogo.png" />
      </button>
    </span>

  </mat-toolbar-row>
</mat-toolbar>
<!--[matMenuTriggerFor]="FileAndAutorsToPull"
#menuTrigger="matMenuTrigger"
 (mouseenter)="openMenu(menuTrigger)"
 (mouseleave)="closeMenu(menuTrigger)"-->



<mat-menu #tagsAndBranches="matMenu">
  <div>
    <div (click)="pull()" class="container" color="warn"
         mat-menu-item (click)="$event.stopPropagation()">
      <span>Pull</span><span class="flexExpand"></span>
      <button mat-icon-button>
        <mat-icon style="text-align:right"
                  color="warn">arrow_downward</mat-icon>
      </button>
    </div>
    <div (click)="commit()"
         class="container" color="warn"
         mat-menu-item (click)="$event.stopPropagation()">
      <span>Commit</span><span class="flexExpand"></span>
      <button mat-icon-button>
        <mat-icon style="text-align:right"
                  color="warn">arrow_upward</mat-icon>
      </button>
    </div>
    <div (click)="push()"
         class="container" color="warn"
         mat-menu-item (click)="$event.stopPropagation()">
      <span>Push</span><span class="flexExpand"></span>
      <button mat-icon-button>
        <mat-icon style="text-align:right"
                  color="warn">arrow_upward</mat-icon>
      </button>
    </div>
  </div>
</mat-menu>
