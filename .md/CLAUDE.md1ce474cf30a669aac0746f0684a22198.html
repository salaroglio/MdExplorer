<html><head>
            <link rel="stylesheet" href="/common.css" />            
            <script src="/common.js"></script></head><body Id="MdBody" ConnectionId="C2csl4oZSrB5kw5GNOmA3w">
                    <div class="edith1-popup-overlay">
                        <div class="popup-content">
                            <h4>Inline Editor</h4>
                           <textarea rows="10" class="edith1textarea " id="editH1">if you see this, something wrong happened</textarea>
                            <button class="close">Close</button>    
                            <button class="save">save</button>  
                        </div>
                    </div>    
                   
                    <div class="mdeTocSticky-top">                        
                        <div id="TOC" class="tocNavigation" mdeFullPathDocument="C:\sviluppo\mdExplorer\CLAUDE.md">
                            <div class="mdeTocTitle">Table of content</div>
                            <div class="mdeNavigationMain">
                                <div class="tocSeparator" onmousedown="resizeToc()"></div>
                                <nav class="tocNavNavigation">
                                    <div class="toc js-toc"></div>                                    
                                </nav>
                            </div>
                        </div>
                        <div id="Refs" class="refsNavigation" mdeFullPathDocument="C:\sviluppo\mdExplorer\CLAUDE.md">
                            <div class="mdeRefsTitle">References</div>
                            <div class="mdeNavigationMain">
                                <div class="tocSeparator" onmousedown="resizeRefs()"></div>
                                <nav class="refsNavNavigation">
                                    <div id="references" class="refsMain"></div>                                    
                                </nav>
                            </div>
                        </div>
                        <div class="mdeVerticalTab">
                            <div class="buttonTabToc">
                                <div><div onClick="toggleTOC('C%3a%5csviluppo%5cmdExplorer%5cCLAUDE.md')" style="cursor: pointer">TOC</div></div>                             
                            </div>
                            <div class="buttonTabRefs">
                                <div><div onClick="toggleReferences('C%3a%5csviluppo%5cmdExplorer%5cCLAUDE.md')" style="cursor: pointer">Refs</div></div>
                            </div>
                        </div>
                    </div>
                    <div class="mdeLowerBar">
                             <div class="mdeLowerBarButton"><a onClick="toggleMdCanvas(this)" class="mdExplorerLink"><img src="/assets/drawStatic.png" id="canvas" /></a></div>                            
                             <div class="mdeLowerBarButton"><a onClick="toggleEditor()" class="mdExplorerLink"><img src="/assets/editorInLine.png" id="editorH1" /></a></div>
                    </div>
                    <div class="mdeContainerIFrameApplciation">
                        <div class="mdeItemMainPageLeftMenu"></div>
                        
                        <div class="mdeItemMainPageCenter md-tocbot-content js-toc-content">
                            <div md-itemmatchindex="0" md-h1Id="0" class="editorH1"><h1 id="claude.md" md-itemmatchindex="0" md-h1Id="0">CLAUDE.md</h1><p>This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.</p></div><div md-itemmatchindex="121" md-h1Id="121" class="editorH1"><h2 id="architecture-overview" md-itemmatchindex="121" md-h1Id="121">Architecture Overview</h2><p>MdExplorer is a multi-project .NET solution for Markdown file management and editing with the following architecture:</p></div><div md-itemmatchindex="270" md-h1Id="270" class="editorH1"><h3 id="core-services" md-itemmatchindex="270" md-h1Id="270">Core Services</h3><ul><li><strong>MdExplorer.Service</strong> - ASP.NET Core 3.1 web API serving Angular and React frontends</li><li><strong>MdExplorer.Features</strong> - Business logic layer containing commands, exports (PDF/Word), and feature implementations</li><li><strong>Data Access Layer</strong> - Currently undergoing migration from <code>Ad.Tools.Dal</code> to <code>Ad.Tools.Dal.Evo</code> using Strangler Fig Pattern
<ul><li>Uses NHibernate ORM with FluentNHibernate mappings</li><li>SQLite databases: <code>MdExplorer.db</code> (user data), <code>MdEngine.db</code> (engine data), project-specific DBs</li><li>FluentMigrator for database schema migrations</li></ul></li></ul></div><div md-itemmatchindex="836" md-h1Id="836" class="editorH1"><h3 id="frontend-applications" md-itemmatchindex="836" md-h1Id="836">Frontend Applications</h3><ul><li><strong>Angular Client</strong> (<code>MdExplorer/client2</code>) - Main UI built with Angular 11 and Material Design</li><li><strong>React Editor</strong> (<code>MdEditor.React</code>) - Milkdown-based markdown editor using React 19</li><li><strong>Electron Desktop</strong> (<code>ElectronMdExplorer</code>) - Desktop wrapper for the web application</li></ul></div><div md-itemmatchindex="1138" md-h1Id="1138" class="editorH1"><h3 id="key-patterns" md-itemmatchindex="1138" md-h1Id="1138">Key Patterns</h3><ul><li>Command Pattern for markdown transformations (see <code>Commands/</code> folders)</li><li>Repository/Unit of Work pattern (being introduced in new DAL)</li><li>SignalR for real-time file monitoring</li><li>Dependency Injection throughout</li></ul></div><div md-itemmatchindex="1373" md-h1Id="1373" class="editorH1"><h2 id="common-development-commands" md-itemmatchindex="1373" md-h1Id="1373">Common Development Commands</h2></div><div md-itemmatchindex="1407" md-h1Id="1407" class="editorH1"><h3 id="backend-development" md-itemmatchindex="1407" md-h1Id="1407">Backend Development</h3><pre><code class="language-bash"># Build entire solution
dotnet build

# Run the main service
dotnet run --project MdExplorer/MdExplorer.Service.csproj

# Run specific tests
dotnet test MdExplorer.Features.Tests/MdExplorer.Features.Tests.csproj
</code></pre></div><div md-itemmatchindex="1668" md-h1Id="1668" class="editorH1"><h3 id="frontend-development" md-itemmatchindex="1668" md-h1Id="1668">Frontend Development</h3></div><div md-itemmatchindex="1696" md-h1Id="1696" class="editorH1"><h4 id="angular-client" md-itemmatchindex="1696" md-h1Id="1696">Angular Client</h4><pre><code class="language-bash">cd MdExplorer/client2
npm install
npm run build    # Production build with correct base href
npm start        # Development server
npm run lint     # Run linter
npm test         # Run tests
</code></pre></div><div md-itemmatchindex="1929" md-h1Id="1929" class="editorH1"><h4 id="react-editor" md-itemmatchindex="1929" md-h1Id="1929">React Editor</h4><pre><code class="language-bash">cd MdEditor.React
npm install
npm run build    # Production build
npm run dev      # Development server with Vite
npm run lint     # Run ESLint
</code></pre></div><div md-itemmatchindex="2113" md-h1Id="2113" class="editorH1"><h4 id="electron-desktop" md-itemmatchindex="2113" md-h1Id="2113">Electron Desktop</h4><pre><code class="language-bash">cd ElectronMdExplorer
npm install
npm start        # Run Electron app
npm run build    # Build distributables
</code></pre></div><div md-itemmatchindex="2266" md-h1Id="2266" class="editorH1"><h2 id="database-migrations" md-itemmatchindex="2266" md-h1Id="2266">Database Migrations</h2><p>The project uses FluentMigrator for database schema management:</p><ul><li>User DB migrations: <code>MdExplorer.Migrations/</code></li><li>Engine DB migrations: <code>MdExplorer.Migrations.EngineDb/</code></li><li>Project DB migrations: <code>MdExplorer.Migrations.ProjectDb/</code></li></ul><p>Migrations run automatically on startup.</p></div><div md-itemmatchindex="2571" md-h1Id="2571" class="editorH1"><h2 id="key-features-integration-points" md-itemmatchindex="2571" md-h1Id="2571">Key Features &amp; Integration Points</h2></div><div md-itemmatchindex="2611" md-h1Id="2611" class="editorH1"><h3 id="plantuml-integration" md-itemmatchindex="2611" md-h1Id="2611">PlantUML Integration</h3><ul><li>Server configured in <code>appsettings.json</code> under <code>MdExplorer.PlantumlServer</code></li><li>JAR files located in <code>MdExplorer/Binaries/</code></li><li>Conversion handled by <code>FromPlantumlToPng</code> and <code>FromPlantumlToSvg</code> commands</li></ul></div><div md-itemmatchindex="2841" md-h1Id="2841" class="editorH1"><h3 id="git-integration" md-itemmatchindex="2841" md-h1Id="2841">Git Integration</h3><ul><li>Uses LibGit2Sharp for Git operations</li><li>Controllers: <code>BranchesController</code>, <code>TagsController</code>, <code>GitFeatureController</code></li><li>Service: <code>GitService</code> in Features project</li></ul></div><div md-itemmatchindex="3028" md-h1Id="3028" class="editorH1"><h3 id="document-export" md-itemmatchindex="3028" md-h1Id="3028">Document Export</h3><ul><li>PDF export uses Pandoc with eisvogel template</li><li>Word export uses custom DOCX templates in <code>MdExplorer/templates/word/</code></li><li>Implementation in <code>PdfFeatures</code> and <code>WordFeatures</code> classes</li></ul></div><div md-itemmatchindex="3236" md-h1Id="3236" class="editorH1"><h3 id="real-time-features" md-itemmatchindex="3236" md-h1Id="3236">Real-time Features</h3><ul><li>SignalR hub: <code>MonitorMDHub</code></li><li>File monitoring: <code>MonitorMDHostedService</code></li><li>Refactoring support with file tracking</li></ul></div><div md-itemmatchindex="3380" md-h1Id="3380" class="editorH1"><h2 id="testing-approach" md-itemmatchindex="3380" md-h1Id="3380">Testing Approach</h2><ul><li>Test files organized by feature in test projects</li><li>Test data includes sample Markdown, HTML, DOCX, and YAML files</li><li>Angular tests use Karma/Jasmine</li><li>.NET tests use MSTest framework</li></ul></div><div md-itemmatchindex="3593" md-h1Id="3593" class="editorH1"><h2 id="active-refactoring" md-itemmatchindex="3593" md-h1Id="3593">Active Refactoring</h2><p>The DAL is being migrated from <code>Ad.Tools.Dal</code> to <code>Ad.Tools.Dal.Evo</code> following the Strangler Fig Pattern. See <code>Ad.Tools.Dal/EvoluzionDal.md</code> for details. When working with data access:</p><ul><li>New features should use <code>IUnitOfWork</code> and <code>IRepository&lt;T&gt;</code> from <code>Ad.Tools.Dal.Evo.Abstractions</code></li><li>Existing code may still use the old DAL interfaces</li><li>Both DALs currently coexist in the application</li></ul><div style="display:none" md-h1Id="0" md-itemmatchindex="0" md-itemmatchindex-end="121" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="121" md-itemmatchindex="121" md-itemmatchindex-end="270" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="1373" md-itemmatchindex="1373" md-itemmatchindex-end="1407" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="2266" md-itemmatchindex="2266" md-itemmatchindex-end="2571" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="2571" md-itemmatchindex="2571" md-itemmatchindex-end="2611" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="3380" md-itemmatchindex="3380" md-itemmatchindex-end="3593" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div></div><div style="display:none" md-h1Id="3593" md-itemmatchindex="3593" md-itemmatchindex-end="0" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="270" md-itemmatchindex="270" md-itemmatchindex-end="836" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="836" md-itemmatchindex="836" md-itemmatchindex-end="1138" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="1138" md-itemmatchindex="1138" md-itemmatchindex-end="1373" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="1407" md-itemmatchindex="1407" md-itemmatchindex-end="1441" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="1668" md-itemmatchindex="1668" md-itemmatchindex-end="1696" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="2611" md-itemmatchindex="2611" md-itemmatchindex-end="2841" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="2841" md-itemmatchindex="2841" md-itemmatchindex-end="3028" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="3028" md-itemmatchindex="3028" md-itemmatchindex-end="3236" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="3236" md-itemmatchindex="3236" md-itemmatchindex-end="3380" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="1696" md-itemmatchindex="1696" md-itemmatchindex-end="1929" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="1929" md-itemmatchindex="1929" md-itemmatchindex-end="2113" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div><div style="display:none" md-h1Id="2113" md-itemmatchindex="2113" md-itemmatchindex-end="2266" class="hiddendataforeditorh1" md-path-file="C:\sviluppo\mdExplorer\CLAUDE.md">todo</div>
                        </div>
                        
                    </div>
                     
                    </body></html>